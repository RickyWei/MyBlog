"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[232],{8376:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>b,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var i=t(7624),a=t(2172);const s={description:"KMP \u5b57\u7b26\u4e32\u5339\u914d"},o="KMP",r={id:"algorithm/\u5b57\u7b26\u4e32/kmp",title:"KMP",description:"KMP \u5b57\u7b26\u4e32\u5339\u914d",source:"@site/docs/algorithm/\u5b57\u7b26\u4e32/001_kmp.md",sourceDirName:"algorithm/\u5b57\u7b26\u4e32",slug:"/algorithm/\u5b57\u7b26\u4e32/kmp",permalink:"/blog/docs/algorithm/\u5b57\u7b26\u4e32/kmp",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{description:"KMP \u5b57\u7b26\u4e32\u5339\u914d"},sidebar:"algorithmSidebar",previous:{title:"\u6570\u4f4ddp",permalink:"/blog/docs/algorithm/\u52a8\u6001\u89c4\u5212/\u6570\u4f4ddp"},next:{title:"Z Algorithm",permalink:"/blog/docs/algorithm/\u5b57\u7b26\u4e32/z"}},c={},l=[{value:"\u4f8b\u9898",id:"\u4f8b\u9898",level:2},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:2}];function d(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",...(0,a.M)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"kmp",children:"KMP"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"KMP\u7528\u6765\u5bfb\u627e\u5b57\u7b26\u4e32s\u4e2d\u662f\u5426\u5305\u542b\u5b50\u4e32p"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-text",children:"\u4e0b\u6807\uff1a    0 1 2 3 4 5 6 7 8 9 10\n\u5b57\u7b26\u4e32s:  a b b a a b b a a b a\n\u6a21\u5f0f\u4e32p:  a b b a a b a\nnext\u6570\u7ec4: 0 0 0 1 1 2 1\nnext[i]\u4e3a\u6a21\u5f0f\u4e32\u5df2i\u7ed3\u5c3e\u7684 \u5b50\u4e32\u7684\u540e\u7f00 \u548c \u6a21\u5f0f\u4e32\u7684\u524d\u7f00 \u5339\u914d\u7684\u4e2a\u6570\nabbaaba\u7684\n\u524d\u7f00(\u4ece\u524d\u5f80\u540e\u770b) a ab abb abba abbaa abbaab\n\u540e\u7f00(\u4ece\u540e\u5f80\u524d\u770b) a ba aba aaba baaba bbaaba\n\n\u5f53\u5339\u914d\u5230\u4e0b\u6807j==6\u65f6\uff0ca!=b\uff0c\u4f46\u662f\u6211\u4eec\u5df2\u77e50~5\u662f\u5339\u914d\u7684&&next[5]==2\uff0c\n\u90a3\u4e48\u6211\u4eec\u5c06\u63a5\u7740\u518d\u4ecej==6,i==2\u5f00\u59cb\u5339\u914d\n\n\u4e0b\u6807\uff1a    0 1 2 3 4 5 6 7 8 9 10\n\u5b57\u7b26\u4e32s:  a b b a a b b a a b a\n\u6a21\u5f0f\u4e32p:          a b b a a b a\nnext\u6570\u7ec4:         0 0 0 1 1 2 1\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u4f8b\u9898",children:"\u4f8b\u9898"}),"\n",(0,i.jsxs)(e.admonition,{type:"info",children:[(0,i.jsx)(e.mdxAdmonitionTitle,{children:(0,i.jsx)(e.a,{href:"https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/description/",children:"28. \u627e\u51fa\u5b57\u7b26\u4e32\u4e2d\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u4e0b\u6807"})}),(0,i.jsx)(e.p,{children:"\u7ed9\u4f60\u4e24\u4e2a\u5b57\u7b26\u4e32 haystack \u548c needle \uff0c\u8bf7\u4f60\u5728 haystack \u5b57\u7b26\u4e32\u4e2d\u627e\u51fa needle \u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u4e0b\u6807\uff08\u4e0b\u6807\u4ece 0 \u5f00\u59cb\uff09\u3002\u5982\u679c needle \u4e0d\u662f haystack \u7684\u4e00\u90e8\u5206\uff0c\u5219\u8fd4\u56de  -1 \u3002"}),(0,i.jsxs)(e.p,{children:["\u793a\u4f8b 1\uff1a",(0,i.jsx)("br",{}),'\n\u8f93\u5165\uff1ahaystack = "sadbutsad", needle = "sad"',(0,i.jsx)("br",{}),"\n\u8f93\u51fa\uff1a0",(0,i.jsx)("br",{}),'\n\u89e3\u91ca\uff1a"sad" \u5728\u4e0b\u6807 0 \u548c 6 \u5904\u5339\u914d\u3002',(0,i.jsx)("br",{}),"\n\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u4e0b\u6807\u662f 0 \uff0c\u6240\u4ee5\u8fd4\u56de 0 \u3002"]}),(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-cpp",children:"class Solution {\n public:\n  int strStr(string s, string p) {\n    int n = s.size(), m = p.size();\n    vector<int> next(m, 0);\n    // i\u662f\u957f\u5ea6\n    // j\u662f\u4e0b\u6807\uff0c\u4ece1\u5f00\u59cb\n    for (int i = 0, j = 1; j < m; ++j) {\n      // i = next[i - 1] \u53ef\u7406\u89e3\u4e3a\uff0c\u5f53i\u4e0d\u80fd\u7ee7\u7eed\u589e\u52a0\u65f6\uff0c\u6211\u4eec\u5c1d\u8bd5\u4e4b\u524d\u7684\uff08\u6b21\u5927\u7684\uff09\u5339\u914d\u957f\u5ea6\uff0c\u5e76\u5339\u914d\u65b0\u7684p[i]\u548cp[j]\n      // \n      // \u5982\u4e0b ? \u5904\uff0ci==6 a!=z\uff0c\u6211\u4eec\u8fd8\u77e5\u9053s[0,5] == s[7,12]\n      // 6\u662f\u957f\u5ea6\u5bf9\u5e94next\u4e0b\u68075\uff0cnext[6 - 1] = next[5] = 4 \u610f\u5473\u7740\u5728s[7,12]\u6b21\u957f\u7684\u5339\u914d\u957f\u5ea6\u4e3a4\n      //\n      // p     a  b  a  b  a  b  z  a  b  a  b  a  b  a\n      // next  0  0  1  2  3  4  0  1  2  3  4  5  6  ?\n      // index 0  1  2  3  4  5  6  7  8  9  10 11 12 13\n      while (i > 0 && p[i] != p[j]) i = next[i - 1];\n      if (p[i] == p[j]) ++i;\n      next[j] = i;\n    }\n\n    for (int i = 0, j = 0; j < n; ++j) {\n      while (i > 0 && p[i] != s[j]) i = next[i - 1];\n      if (p[i] == s[j]) ++i;\n      if (i == m) return j - m + 1;\n    }\n\n    return -1;\n  }\n};\n"})}),(0,i.jsx)(e.h2,{id:"\u53c2\u8003",children:"\u53c2\u8003"}),(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.a,{href:"https://www.zhihu.com/question/21923021/answer/37475572",children:"https://www.zhihu.com/question/21923021/answer/37475572"}),"\n",(0,i.jsx)(e.a,{href:"https://kb.cnblogs.com/page/176818/",children:"https://kb.cnblogs.com/page/176818/"})]}),"\n"]})]})]})}function b(n={}){const{wrapper:e}={...(0,a.M)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},2172:(n,e,t)=>{t.d(e,{I:()=>r,M:()=>o});var i=t(1504);const a={},s=i.createContext(a);function o(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);