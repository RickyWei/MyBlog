# 应用层

## DNS

### 域名层级结构

主机名.次级域名.顶级域名.根域名

### DNS记录类型

1. A：地址记录（Address），返回域名指向的IP地址
2. NS：域名服务器记录（Name Server），返回保存下一级域名信息的服务器地址该记录只能设置为域名，不能设置为IP地址
3. MX：邮件记录（Mail eXchange），返回接收电子邮件的服务器地址
4. CNAME：规范名称记录（Canonical Name），返回另一个域名，即当前查询的域名是另一个域名的跳转
5. PTR：逆向查询记录（Pointer Record），只用于从IP地址查询域名

### TTL

TTL 设置了DNS cache过期时间，较短的 TTL 是的记录能够快速刷新

### DNS解析过程

![DNS解析过程](./imgs/dns.jpg)

1. 查询local DNS server，本地DNS服务器一般都是你的网络接入服务器商提供，比如中国电信，中国移动
2. 查询www.163.com的DNS请求到达本地DNS服务器之后
   1. 本地DNS服务器会首先查询它的缓存记录，如果缓存中有此条记录，就可以直接返回结果
   2. 没有缓存时，本地DNS服务器还要向DNS根服务器进行查询
3. 根DNS服务器没有记录具体的域名和IP地址的对应关系，而是告诉本地DNS服务器，你可以到域服务器上去继续查询，并给出域服务器的地址
4. 本地DNS服务器继续向域服务器发出请求，在这个例子中，请求的对象是.com域服务器.com域服务器收到请求之后，也不会直接返回域名和IP地址的对应关系，而是告诉本地DNS服务器，你的域名的解析服务器的地址
5. 最后，本地DNS服务器向域名的解析服务器发出请求，这时就能收到一个域名和IP地址对应关系，本地DNS服务器不仅要把IP地址返回给用户电脑，还要把这个对应关系保存在缓存中，以备下次别的用户查询时，可以直接返回结果，加快网络访问

## Http

### http头部
